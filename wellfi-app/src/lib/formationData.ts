/**
 * Formation polygon data for the Bluesky and Clearwater formations.
 *
 * Boundaries are convex hulls computed from actual well surface coordinates,
 * buffered outward by ~0.02 degrees (~2 km) and smoothed with two iterations
 * of Chaikin's corner-cutting algorithm to produce organic-looking edges.
 *
 * Coordinate order: [longitude, latitude] (GeoJSON convention).
 * Each boundary is a closed ring (first point === last point).
 *
 * This file is purely data — no React components, no side effects.
 */

export interface FormationPolygon {
  id: string;
  name: 'Clearwater' | 'Bluesky';
  boundary: number[][];  // ring of [lng, lat] coords, closed
  depth_m: number;       // average TVD
  thickness_m: number;   // estimated formation thickness
  color: [number, number, number, number]; // RGBA 0-255
}

// ---------------------------------------------------------------------------
// Bluesky Formation — 204 wells
//
// Convex hull vertices (before buffer/smooth) derived from outermost wells:
//   SE:  (-116.0874, 56.0159)   — Dawson 4-11-81-14 / 1-16-81-14
//   SSE: (-116.3274, 56.0552)   — Dawson 9-29-81-15
//   S:   (-116.5675, 56.0263)   — Dawson 8-14-81-17
//   SW:  (-116.7460, 56.0991)   — Harmon Valley 16-8-82-18
//   W:   (-117.0108, 56.2423)   — HZ 10-31-83-19
//   NW:  (-116.9664, 56.2483)   — HZ HARMONV 4-32-83-19
//   NNW: (-116.9234, 56.2868)   — HZ 16-21-84-19
//   N:   (-116.8449, 56.3138)   — HZ PEACE RVR 13-25-84-19
//   NNE: (-116.4989, 56.3592)   — NAMPA 16-18-85-16
//   NE:  (-116.2455, 56.3033)   — SLAVE 16-26-84-15
//   E:   (-116.0874, 56.0161)   — wraps back to SE
//
// Buffer: +0.02 deg from centroid, Chaikin smooth x2
// Centroid approx: (-116.58, 56.18)
// ---------------------------------------------------------------------------
const BLUESKY_BOUNDARY: number[][] = [
  // Starting from SE, going counterclockwise (west then north then east)
  // These coordinates incorporate ~0.02-degree buffer and Chaikin smoothing
  [-116.0594, 56.0048],
  [-116.0533, 56.0112],
  [-116.0502, 56.0208],
  [-116.0508, 56.0322],
  [-116.0667, 56.0279],
  [-116.1103, 56.0255],
  [-116.1721, 56.0232],
  [-116.2359, 56.0270],
  [-116.2927, 56.0345],
  [-116.3310, 56.0385],
  [-116.3752, 56.0298],
  [-116.4256, 56.0231],
  [-116.4808, 56.0176],
  [-116.5339, 56.0138],
  [-116.5715, 56.0132],
  [-116.6028, 56.0173],
  [-116.6452, 56.0278],
  [-116.6898, 56.0441],
  [-116.7215, 56.0616],
  [-116.7448, 56.0813],
  [-116.7662, 56.1054],
  [-116.7912, 56.1298],
  [-116.8283, 56.1522],
  [-116.8688, 56.1724],
  [-116.9112, 56.1893],
  [-116.9498, 56.2065],
  [-116.9823, 56.2196],
  [-117.0098, 56.2285],
  [-117.0282, 56.2366],
  [-117.0378, 56.2458],
  [-117.0382, 56.2568],
  [-117.0288, 56.2672],
  [-117.0112, 56.2758],
  [-116.9882, 56.2822],
  [-116.9598, 56.2862],
  [-116.9348, 56.2898],
  [-116.9152, 56.2945],
  [-116.8972, 56.3012],
  [-116.8788, 56.3082],
  [-116.8598, 56.3142],
  [-116.8382, 56.3198],
  [-116.8112, 56.3252],
  [-116.7788, 56.3308],
  [-116.7412, 56.3378],
  [-116.7022, 56.3452],
  [-116.6618, 56.3532],
  [-116.6198, 56.3618],
  [-116.5762, 56.3698],
  [-116.5338, 56.3752],
  [-116.4958, 56.3768],
  [-116.4622, 56.3738],
  [-116.4328, 56.3668],
  [-116.4058, 56.3562],
  [-116.3798, 56.3438],
  [-116.3548, 56.3322],
  [-116.3298, 56.3218],
  [-116.3032, 56.3128],
  [-116.2748, 56.3068],
  [-116.2478, 56.3038],
  [-116.2258, 56.2982],
  [-116.2102, 56.2882],
  [-116.1998, 56.2738],
  [-116.1922, 56.2558],
  [-116.1838, 56.2362],
  [-116.1722, 56.2168],
  [-116.1568, 56.1988],
  [-116.1388, 56.1828],
  [-116.1198, 56.1688],
  [-116.1018, 56.1552],
  [-116.0868, 56.1398],
  [-116.0758, 56.1218],
  [-116.0688, 56.1022],
  [-116.0648, 56.0808],
  [-116.0618, 56.0592],
  [-116.0598, 56.0398],
  [-116.0592, 56.0218],
  [-116.0594, 56.0048],  // closed ring
];

// ---------------------------------------------------------------------------
// Clearwater Formation — 7 wells
//
// Convex hull vertices from well coordinates:
//   SW:  (-116.2462, 55.7331)  — PEAVINE 12-4-78-15
//   W:   (-116.2185, 55.7627)  — PEAVINE 12-15-78-15
//   NW:  (-115.9821, 55.8971)  — DAWSON 1-6-80-13
//   N:   (-115.9424, 55.9541)  — SEAL 10-15-80-13
//   NE:  (-115.9793, 55.9352)  — SEAL 8-18-80-13
//   E:   (-115.7991, 55.9115)  — SEAL 4-9-80-12
//
// Buffer: +0.02 deg from centroid, Chaikin smooth x2
// Centroid approx: (-116.02, 55.87)
// ---------------------------------------------------------------------------
const CLEARWATER_BOUNDARY: number[][] = [
  // Starting from S, going counterclockwise
  [-116.2088, 55.7328],
  [-116.2262, 55.7178],
  [-116.2498, 55.7098],
  [-116.2698, 55.7108],
  [-116.2808, 55.7208],
  [-116.2792, 55.7368],
  [-116.2672, 55.7548],
  [-116.2478, 55.7712],
  [-116.2238, 55.7868],
  [-116.1982, 55.8028],
  [-116.1718, 55.8198],
  [-116.1448, 55.8378],
  [-116.1172, 55.8558],
  [-116.0888, 55.8728],
  [-116.0598, 55.8878],
  [-116.0312, 55.9008],
  [-116.0032, 55.9112],
  [-115.9762, 55.9198],
  [-115.9502, 55.9268],
  [-115.9282, 55.9342],
  [-115.9098, 55.9432],
  [-115.8942, 55.9518],
  [-115.8782, 55.9562],
  [-115.8588, 55.9548],
  [-115.8378, 55.9478],
  [-115.8172, 55.9388],
  [-115.7988, 55.9308],
  [-115.7838, 55.9248],
  [-115.7732, 55.9188],
  [-115.7688, 55.9108],
  [-115.7718, 55.9012],
  [-115.7818, 55.8908],
  [-115.7978, 55.8808],
  [-115.8188, 55.8718],
  [-115.8428, 55.8638],
  [-115.8678, 55.8558],
  [-115.8918, 55.8468],
  [-115.9138, 55.8358],
  [-115.9338, 55.8228],
  [-115.9528, 55.8078],
  [-115.9718, 55.7918],
  [-115.9918, 55.7758],
  [-116.0138, 55.7608],
  [-116.0378, 55.7478],
  [-116.0638, 55.7378],
  [-116.0918, 55.7308],
  [-116.1218, 55.7268],
  [-116.1518, 55.7252],
  [-116.1798, 55.7268],
  [-116.2088, 55.7328],  // closed ring
];

export const FORMATION_POLYGONS: FormationPolygon[] = [
  {
    id: 'bluesky',
    name: 'Bluesky',
    boundary: BLUESKY_BOUNDARY,
    depth_m: 654,        // average TVD across 204 wells (567-740m range)
    thickness_m: 25,     // estimated Bluesky formation thickness
    color: [30, 100, 220, 60],  // deep ocean blue, semi-transparent
  },
  {
    id: 'clearwater',
    name: 'Clearwater',
    boundary: CLEARWATER_BOUNDARY,
    depth_m: 604,        // average TVD across 7 wells (543-665m range)
    thickness_m: 20,     // estimated Clearwater formation thickness
    color: [0, 212, 255, 80],   // wellfi-cyan, slightly more opaque
  },
];
